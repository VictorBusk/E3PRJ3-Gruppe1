\hypertarget{lux_8c}{}\subsection{lux.\+c filreference}
\label{lux_8c}\index{lux.\+c@{lux.\+c}}


Code copied from the \char`\"{}\+T\+S\+L2561 Light-\/to-\/digital converter\char`\"{} datasheet.  


\subsubsection*{\#Defines}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{lux_8c_abe3540b1f05e5974dfa40491719b322a}{L\+U\+X\+\_\+\+S\+C\+A\+LE}~14
\item 
\#define \hyperlink{lux_8c_a2d36ccf8157f890c015eddd64276d77c}{R\+A\+T\+I\+O\+\_\+\+S\+C\+A\+LE}~9
\item 
\#define \hyperlink{lux_8c_ae77b11d54490369c690da18aef1e76e5}{C\+H\+\_\+\+S\+C\+A\+LE}~10
\item 
\#define \hyperlink{lux_8c_af740a064eaa0da3339e7eba683a671ed}{C\+H\+S\+C\+A\+L\+E\+\_\+\+T\+I\+N\+T0}~0x7517
\item 
\#define \hyperlink{lux_8c_a1f741d16494e81486136c73489097cdd}{C\+H\+S\+C\+A\+L\+E\+\_\+\+T\+I\+N\+T1}~0x0fe7
\item 
\#define \hyperlink{lux_8c_a8d1758888413b06317d05260d023c6f1}{K1T}~0x0040
\item 
\#define \hyperlink{lux_8c_a77a115660299dfe589547bd1c9313e18}{B1T}~0x01f2
\item 
\#define \hyperlink{lux_8c_a9cee464de95fd9f1cc41e4737cdfcf56}{M1T}~0x01be
\item 
\#define \hyperlink{lux_8c_af3f76dac869af6d4fb8834ba8e5baa72}{K2T}~0x0080
\item 
\#define \hyperlink{lux_8c_a0a24c8d38c744a6706fbef06cc0d045e}{B2T}~0x0214
\item 
\#define \hyperlink{lux_8c_af13d82736a980dd7f78a0c8633c656c0}{M2T}~0x02d1
\item 
\#define \hyperlink{lux_8c_a96898795c866703216e3035ecc1c29aa}{K3T}~0x00c0
\item 
\#define \hyperlink{lux_8c_aa58a8a3b4010f1d8ab947e2351b6cf1d}{B3T}~0x023f
\item 
\#define \hyperlink{lux_8c_a6d02cd58020bf44d98927446668a2f7b}{M3T}~0x037b
\item 
\#define \hyperlink{lux_8c_aa3489bee2d8a1e25002669517f4b6f7d}{K4T}~0x0100
\item 
\#define \hyperlink{lux_8c_a836fd96912939cd386f83e20ed1061ee}{B4T}~0x0270
\item 
\#define \hyperlink{lux_8c_ac5983b281c3a2f1d4ea1f87236cfcb44}{M4T}~0x03fe
\item 
\#define \hyperlink{lux_8c_a7df915d6ba425afa9a463f249168d6bd}{K5T}~0x0138
\item 
\#define \hyperlink{lux_8c_a8a3732432706e9a5a5ae3d3485d47043}{B5T}~0x016f
\item 
\#define \hyperlink{lux_8c_a2d9fce4a16f258b5ab02b09a954648f6}{M5T}~0x01fc
\item 
\#define \hyperlink{lux_8c_a677e2edf3cf15bef63405c35a7be1310}{K6T}~0x019a
\item 
\#define \hyperlink{lux_8c_ab01465ad82a39e8d02c2dd79279bfe38}{B6T}~0x00d2
\item 
\#define \hyperlink{lux_8c_a48074a633649636c0748b851a23776df}{M6T}~0x00fb
\item 
\#define \hyperlink{lux_8c_a7e788fd48d058b89ffcc0438bc3d558e}{K7T}~0x029a
\item 
\#define \hyperlink{lux_8c_ad61180572632999584ac8b582a00e2c8}{B7T}~0x0018
\item 
\#define \hyperlink{lux_8c_aa3094566ff7a1a2bcd210e256c7b50cc}{M7T}~0x0012
\item 
\#define \hyperlink{lux_8c_aa0dc3961e2039ad7d91faf6829ec1404}{K8T}~0x029a
\item 
\#define \hyperlink{lux_8c_ab5d069e613c69aaf71ea97b129cc5ec1}{B8T}~0x0000
\item 
\#define \hyperlink{lux_8c_acb54eadab753bfe327548d7216edd9a2}{M8T}~0x0000
\item 
\#define \hyperlink{lux_8c_a5d91e3222633d82540d7ce0e8d2e1bb2}{K1C}~0x0043
\item 
\#define \hyperlink{lux_8c_a93aa8f0bb51f43d51e78656a352c6d16}{B1C}~0x0204
\item 
\#define \hyperlink{lux_8c_a4ec6175326ca3eb8b731a162b6fcd866}{M1C}~0x01ad
\item 
\#define \hyperlink{lux_8c_ac91e954471045fdbd9b3d01933373c1e}{K2C}~0x0085
\item 
\#define \hyperlink{lux_8c_a95f02da704fdc6c1cabd0c29713cee66}{B2C}~0x0228
\item 
\#define \hyperlink{lux_8c_ab70590fa6ebed50a3ab8ff17c22b55b2}{M2C}~0x02c1
\item 
\#define \hyperlink{lux_8c_acbc83f137380f27faf46af997f35f882}{K3C}~0x00c8
\item 
\#define \hyperlink{lux_8c_ac03c4526fc8c17d71c8ee2171537facd}{B3C}~0x0253
\item 
\#define \hyperlink{lux_8c_a172d826f878378caa7889305ad29011f}{M3C}~0x0363
\item 
\#define \hyperlink{lux_8c_a2fccbc87358653185282ba16b03a64ee}{K4C}~0x010a
\item 
\#define \hyperlink{lux_8c_a6bd8165e32f19978994245c552b8ee2d}{B4C}~0x0282
\item 
\#define \hyperlink{lux_8c_abca79308fb0392b1f8c9d5cfeb5310a0}{M4C}~0x03df
\item 
\#define \hyperlink{lux_8c_aa39a8eec5ffe9f84c4ac098724c70c91}{K5C}~0x014d
\item 
\#define \hyperlink{lux_8c_af4a1b651ec51bb418ce1bffb87fa79e4}{B5C}~0x0177
\item 
\#define \hyperlink{lux_8c_a7c5adce134d8d2be44024c075f55c5c1}{M5C}~0x01dd
\item 
\#define \hyperlink{lux_8c_a9dccc63bcf43c1b4714e913053a906c1}{K6C}~0x019a
\item 
\#define \hyperlink{lux_8c_abe71d8a87f6d974ee3d26693d1a2ea51}{B6C}~0x0101
\item 
\#define \hyperlink{lux_8c_a2140b89133d826e76d2a717a3d863551}{M6C}~0x0127
\item 
\#define \hyperlink{lux_8c_ac104bf3b33df4e42b14dc31078283565}{K7C}~0x029a
\item 
\#define \hyperlink{lux_8c_a5750be8469107d68ea4bdd4e4947316b}{B7C}~0x0037
\item 
\#define \hyperlink{lux_8c_acc5b1974656133787900e9bd5219c5ce}{M7C}~0x002b
\item 
\#define \hyperlink{lux_8c_ac47a903b8bc65dc56915024f00201213}{K8C}~0x029a
\item 
\#define \hyperlink{lux_8c_a6d9dfce0cef08b9ef488e582ac4f92e9}{B8C}~0x0000
\item 
\#define \hyperlink{lux_8c_ac15c8f99823ed2ff447fb568ce4d3957}{M8C}~0x0000
\end{DoxyCompactItemize}
\subsubsection*{Funktioner}
\begin{DoxyCompactItemize}
\item 
unsigned int \hyperlink{lux_8c_a3db2aa0d603f0627be256dc108d3d763}{Calculate\+Lux} (unsigned int i\+Gain, unsigned int t\+Int, unsigned int ch0, unsigned int ch1, int i\+Type)
\begin{DoxyCompactList}\small\item\em Calculate perceived lux from sensor values The sensor has two detectors, one that detects visible and infrared light while the second only detects infrared light. The amount of visible light is then calculated by substracting a scaling fraction of the second detector value from a scaling fraction of the first. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Detaljeret beskrivelse}
Code copied from the \char`\"{}\+T\+S\+L2561 Light-\/to-\/digital converter\char`\"{} datasheet. 

\begin{DoxyAuthor}{Forfatter}
T\+A\+OS, Inc. 
\end{DoxyAuthor}


\subsubsection{\#Define-\/dokumentation}
\index{lux.\+c@{lux.\+c}!B1C@{B1C}}
\index{B1C@{B1C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{B1C}{B1C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B1C~0x0204}\hypertarget{lux_8c_a93aa8f0bb51f43d51e78656a352c6d16}{}\label{lux_8c_a93aa8f0bb51f43d51e78656a352c6d16}


Defineret på linje 106 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!B1T@{B1T}}
\index{B1T@{B1T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{B1T}{B1T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B1T~0x01f2}\hypertarget{lux_8c_a77a115660299dfe589547bd1c9313e18}{}\label{lux_8c_a77a115660299dfe589547bd1c9313e18}


Defineret på linje 59 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!B2C@{B2C}}
\index{B2C@{B2C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{B2C}{B2C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B2C~0x0228}\hypertarget{lux_8c_a95f02da704fdc6c1cabd0c29713cee66}{}\label{lux_8c_a95f02da704fdc6c1cabd0c29713cee66}


Defineret på linje 109 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!B2T@{B2T}}
\index{B2T@{B2T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{B2T}{B2T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B2T~0x0214}\hypertarget{lux_8c_a0a24c8d38c744a6706fbef06cc0d045e}{}\label{lux_8c_a0a24c8d38c744a6706fbef06cc0d045e}


Defineret på linje 62 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!B3C@{B3C}}
\index{B3C@{B3C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{B3C}{B3C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B3C~0x0253}\hypertarget{lux_8c_ac03c4526fc8c17d71c8ee2171537facd}{}\label{lux_8c_ac03c4526fc8c17d71c8ee2171537facd}


Defineret på linje 112 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!B3T@{B3T}}
\index{B3T@{B3T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{B3T}{B3T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B3T~0x023f}\hypertarget{lux_8c_aa58a8a3b4010f1d8ab947e2351b6cf1d}{}\label{lux_8c_aa58a8a3b4010f1d8ab947e2351b6cf1d}


Defineret på linje 65 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!B4C@{B4C}}
\index{B4C@{B4C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{B4C}{B4C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B4C~0x0282}\hypertarget{lux_8c_a6bd8165e32f19978994245c552b8ee2d}{}\label{lux_8c_a6bd8165e32f19978994245c552b8ee2d}


Defineret på linje 115 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!B4T@{B4T}}
\index{B4T@{B4T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{B4T}{B4T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B4T~0x0270}\hypertarget{lux_8c_a836fd96912939cd386f83e20ed1061ee}{}\label{lux_8c_a836fd96912939cd386f83e20ed1061ee}


Defineret på linje 68 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!B5C@{B5C}}
\index{B5C@{B5C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{B5C}{B5C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B5C~0x0177}\hypertarget{lux_8c_af4a1b651ec51bb418ce1bffb87fa79e4}{}\label{lux_8c_af4a1b651ec51bb418ce1bffb87fa79e4}


Defineret på linje 118 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!B5T@{B5T}}
\index{B5T@{B5T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{B5T}{B5T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B5T~0x016f}\hypertarget{lux_8c_a8a3732432706e9a5a5ae3d3485d47043}{}\label{lux_8c_a8a3732432706e9a5a5ae3d3485d47043}


Defineret på linje 71 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!B6C@{B6C}}
\index{B6C@{B6C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{B6C}{B6C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B6C~0x0101}\hypertarget{lux_8c_abe71d8a87f6d974ee3d26693d1a2ea51}{}\label{lux_8c_abe71d8a87f6d974ee3d26693d1a2ea51}


Defineret på linje 121 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!B6T@{B6T}}
\index{B6T@{B6T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{B6T}{B6T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B6T~0x00d2}\hypertarget{lux_8c_ab01465ad82a39e8d02c2dd79279bfe38}{}\label{lux_8c_ab01465ad82a39e8d02c2dd79279bfe38}


Defineret på linje 74 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!B7C@{B7C}}
\index{B7C@{B7C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{B7C}{B7C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B7C~0x0037}\hypertarget{lux_8c_a5750be8469107d68ea4bdd4e4947316b}{}\label{lux_8c_a5750be8469107d68ea4bdd4e4947316b}


Defineret på linje 124 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!B7T@{B7T}}
\index{B7T@{B7T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{B7T}{B7T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B7T~0x0018}\hypertarget{lux_8c_ad61180572632999584ac8b582a00e2c8}{}\label{lux_8c_ad61180572632999584ac8b582a00e2c8}


Defineret på linje 77 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!B8C@{B8C}}
\index{B8C@{B8C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{B8C}{B8C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B8C~0x0000}\hypertarget{lux_8c_a6d9dfce0cef08b9ef488e582ac4f92e9}{}\label{lux_8c_a6d9dfce0cef08b9ef488e582ac4f92e9}


Defineret på linje 127 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!B8T@{B8T}}
\index{B8T@{B8T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{B8T}{B8T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B8T~0x0000}\hypertarget{lux_8c_ab5d069e613c69aaf71ea97b129cc5ec1}{}\label{lux_8c_ab5d069e613c69aaf71ea97b129cc5ec1}


Defineret på linje 80 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!C\+H\+\_\+\+S\+C\+A\+LE@{C\+H\+\_\+\+S\+C\+A\+LE}}
\index{C\+H\+\_\+\+S\+C\+A\+LE@{C\+H\+\_\+\+S\+C\+A\+LE}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{C\+H\+\_\+\+S\+C\+A\+LE}{CH_SCALE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\+H\+\_\+\+S\+C\+A\+LE~10}\hypertarget{lux_8c_ae77b11d54490369c690da18aef1e76e5}{}\label{lux_8c_ae77b11d54490369c690da18aef1e76e5}


Defineret på linje 25 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!C\+H\+S\+C\+A\+L\+E\+\_\+\+T\+I\+N\+T0@{C\+H\+S\+C\+A\+L\+E\+\_\+\+T\+I\+N\+T0}}
\index{C\+H\+S\+C\+A\+L\+E\+\_\+\+T\+I\+N\+T0@{C\+H\+S\+C\+A\+L\+E\+\_\+\+T\+I\+N\+T0}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{C\+H\+S\+C\+A\+L\+E\+\_\+\+T\+I\+N\+T0}{CHSCALE_TINT0}}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\+H\+S\+C\+A\+L\+E\+\_\+\+T\+I\+N\+T0~0x7517}\hypertarget{lux_8c_af740a064eaa0da3339e7eba683a671ed}{}\label{lux_8c_af740a064eaa0da3339e7eba683a671ed}


Defineret på linje 26 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!C\+H\+S\+C\+A\+L\+E\+\_\+\+T\+I\+N\+T1@{C\+H\+S\+C\+A\+L\+E\+\_\+\+T\+I\+N\+T1}}
\index{C\+H\+S\+C\+A\+L\+E\+\_\+\+T\+I\+N\+T1@{C\+H\+S\+C\+A\+L\+E\+\_\+\+T\+I\+N\+T1}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{C\+H\+S\+C\+A\+L\+E\+\_\+\+T\+I\+N\+T1}{CHSCALE_TINT1}}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\+H\+S\+C\+A\+L\+E\+\_\+\+T\+I\+N\+T1~0x0fe7}\hypertarget{lux_8c_a1f741d16494e81486136c73489097cdd}{}\label{lux_8c_a1f741d16494e81486136c73489097cdd}


Defineret på linje 27 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!K1C@{K1C}}
\index{K1C@{K1C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{K1C}{K1C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define K1C~0x0043}\hypertarget{lux_8c_a5d91e3222633d82540d7ce0e8d2e1bb2}{}\label{lux_8c_a5d91e3222633d82540d7ce0e8d2e1bb2}


Defineret på linje 105 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!K1T@{K1T}}
\index{K1T@{K1T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{K1T}{K1T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define K1T~0x0040}\hypertarget{lux_8c_a8d1758888413b06317d05260d023c6f1}{}\label{lux_8c_a8d1758888413b06317d05260d023c6f1}


Defineret på linje 58 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!K2C@{K2C}}
\index{K2C@{K2C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{K2C}{K2C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define K2C~0x0085}\hypertarget{lux_8c_ac91e954471045fdbd9b3d01933373c1e}{}\label{lux_8c_ac91e954471045fdbd9b3d01933373c1e}


Defineret på linje 108 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!K2T@{K2T}}
\index{K2T@{K2T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{K2T}{K2T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define K2T~0x0080}\hypertarget{lux_8c_af3f76dac869af6d4fb8834ba8e5baa72}{}\label{lux_8c_af3f76dac869af6d4fb8834ba8e5baa72}


Defineret på linje 61 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!K3C@{K3C}}
\index{K3C@{K3C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{K3C}{K3C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define K3C~0x00c8}\hypertarget{lux_8c_acbc83f137380f27faf46af997f35f882}{}\label{lux_8c_acbc83f137380f27faf46af997f35f882}


Defineret på linje 111 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!K3T@{K3T}}
\index{K3T@{K3T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{K3T}{K3T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define K3T~0x00c0}\hypertarget{lux_8c_a96898795c866703216e3035ecc1c29aa}{}\label{lux_8c_a96898795c866703216e3035ecc1c29aa}


Defineret på linje 64 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!K4C@{K4C}}
\index{K4C@{K4C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{K4C}{K4C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define K4C~0x010a}\hypertarget{lux_8c_a2fccbc87358653185282ba16b03a64ee}{}\label{lux_8c_a2fccbc87358653185282ba16b03a64ee}


Defineret på linje 114 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!K4T@{K4T}}
\index{K4T@{K4T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{K4T}{K4T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define K4T~0x0100}\hypertarget{lux_8c_aa3489bee2d8a1e25002669517f4b6f7d}{}\label{lux_8c_aa3489bee2d8a1e25002669517f4b6f7d}


Defineret på linje 67 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!K5C@{K5C}}
\index{K5C@{K5C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{K5C}{K5C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define K5C~0x014d}\hypertarget{lux_8c_aa39a8eec5ffe9f84c4ac098724c70c91}{}\label{lux_8c_aa39a8eec5ffe9f84c4ac098724c70c91}


Defineret på linje 117 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!K5T@{K5T}}
\index{K5T@{K5T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{K5T}{K5T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define K5T~0x0138}\hypertarget{lux_8c_a7df915d6ba425afa9a463f249168d6bd}{}\label{lux_8c_a7df915d6ba425afa9a463f249168d6bd}


Defineret på linje 70 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!K6C@{K6C}}
\index{K6C@{K6C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{K6C}{K6C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define K6C~0x019a}\hypertarget{lux_8c_a9dccc63bcf43c1b4714e913053a906c1}{}\label{lux_8c_a9dccc63bcf43c1b4714e913053a906c1}


Defineret på linje 120 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!K6T@{K6T}}
\index{K6T@{K6T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{K6T}{K6T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define K6T~0x019a}\hypertarget{lux_8c_a677e2edf3cf15bef63405c35a7be1310}{}\label{lux_8c_a677e2edf3cf15bef63405c35a7be1310}


Defineret på linje 73 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!K7C@{K7C}}
\index{K7C@{K7C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{K7C}{K7C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define K7C~0x029a}\hypertarget{lux_8c_ac104bf3b33df4e42b14dc31078283565}{}\label{lux_8c_ac104bf3b33df4e42b14dc31078283565}


Defineret på linje 123 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!K7T@{K7T}}
\index{K7T@{K7T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{K7T}{K7T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define K7T~0x029a}\hypertarget{lux_8c_a7e788fd48d058b89ffcc0438bc3d558e}{}\label{lux_8c_a7e788fd48d058b89ffcc0438bc3d558e}


Defineret på linje 76 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!K8C@{K8C}}
\index{K8C@{K8C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{K8C}{K8C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define K8C~0x029a}\hypertarget{lux_8c_ac47a903b8bc65dc56915024f00201213}{}\label{lux_8c_ac47a903b8bc65dc56915024f00201213}


Defineret på linje 126 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!K8T@{K8T}}
\index{K8T@{K8T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{K8T}{K8T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define K8T~0x029a}\hypertarget{lux_8c_aa0dc3961e2039ad7d91faf6829ec1404}{}\label{lux_8c_aa0dc3961e2039ad7d91faf6829ec1404}


Defineret på linje 79 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!L\+U\+X\+\_\+\+S\+C\+A\+LE@{L\+U\+X\+\_\+\+S\+C\+A\+LE}}
\index{L\+U\+X\+\_\+\+S\+C\+A\+LE@{L\+U\+X\+\_\+\+S\+C\+A\+LE}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{L\+U\+X\+\_\+\+S\+C\+A\+LE}{LUX_SCALE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+U\+X\+\_\+\+S\+C\+A\+LE~14}\hypertarget{lux_8c_abe3540b1f05e5974dfa40491719b322a}{}\label{lux_8c_abe3540b1f05e5974dfa40491719b322a}


Defineret på linje 20 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!M1C@{M1C}}
\index{M1C@{M1C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{M1C}{M1C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M1C~0x01ad}\hypertarget{lux_8c_a4ec6175326ca3eb8b731a162b6fcd866}{}\label{lux_8c_a4ec6175326ca3eb8b731a162b6fcd866}


Defineret på linje 107 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!M1T@{M1T}}
\index{M1T@{M1T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{M1T}{M1T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M1T~0x01be}\hypertarget{lux_8c_a9cee464de95fd9f1cc41e4737cdfcf56}{}\label{lux_8c_a9cee464de95fd9f1cc41e4737cdfcf56}


Defineret på linje 60 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!M2C@{M2C}}
\index{M2C@{M2C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{M2C}{M2C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M2C~0x02c1}\hypertarget{lux_8c_ab70590fa6ebed50a3ab8ff17c22b55b2}{}\label{lux_8c_ab70590fa6ebed50a3ab8ff17c22b55b2}


Defineret på linje 110 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!M2T@{M2T}}
\index{M2T@{M2T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{M2T}{M2T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M2T~0x02d1}\hypertarget{lux_8c_af13d82736a980dd7f78a0c8633c656c0}{}\label{lux_8c_af13d82736a980dd7f78a0c8633c656c0}


Defineret på linje 63 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!M3C@{M3C}}
\index{M3C@{M3C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{M3C}{M3C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M3C~0x0363}\hypertarget{lux_8c_a172d826f878378caa7889305ad29011f}{}\label{lux_8c_a172d826f878378caa7889305ad29011f}


Defineret på linje 113 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!M3T@{M3T}}
\index{M3T@{M3T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{M3T}{M3T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M3T~0x037b}\hypertarget{lux_8c_a6d02cd58020bf44d98927446668a2f7b}{}\label{lux_8c_a6d02cd58020bf44d98927446668a2f7b}


Defineret på linje 66 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!M4C@{M4C}}
\index{M4C@{M4C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{M4C}{M4C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M4C~0x03df}\hypertarget{lux_8c_abca79308fb0392b1f8c9d5cfeb5310a0}{}\label{lux_8c_abca79308fb0392b1f8c9d5cfeb5310a0}


Defineret på linje 116 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!M4T@{M4T}}
\index{M4T@{M4T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{M4T}{M4T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M4T~0x03fe}\hypertarget{lux_8c_ac5983b281c3a2f1d4ea1f87236cfcb44}{}\label{lux_8c_ac5983b281c3a2f1d4ea1f87236cfcb44}


Defineret på linje 69 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!M5C@{M5C}}
\index{M5C@{M5C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{M5C}{M5C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M5C~0x01dd}\hypertarget{lux_8c_a7c5adce134d8d2be44024c075f55c5c1}{}\label{lux_8c_a7c5adce134d8d2be44024c075f55c5c1}


Defineret på linje 119 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!M5T@{M5T}}
\index{M5T@{M5T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{M5T}{M5T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M5T~0x01fc}\hypertarget{lux_8c_a2d9fce4a16f258b5ab02b09a954648f6}{}\label{lux_8c_a2d9fce4a16f258b5ab02b09a954648f6}


Defineret på linje 72 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!M6C@{M6C}}
\index{M6C@{M6C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{M6C}{M6C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M6C~0x0127}\hypertarget{lux_8c_a2140b89133d826e76d2a717a3d863551}{}\label{lux_8c_a2140b89133d826e76d2a717a3d863551}


Defineret på linje 122 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!M6T@{M6T}}
\index{M6T@{M6T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{M6T}{M6T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M6T~0x00fb}\hypertarget{lux_8c_a48074a633649636c0748b851a23776df}{}\label{lux_8c_a48074a633649636c0748b851a23776df}


Defineret på linje 75 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!M7C@{M7C}}
\index{M7C@{M7C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{M7C}{M7C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M7C~0x002b}\hypertarget{lux_8c_acc5b1974656133787900e9bd5219c5ce}{}\label{lux_8c_acc5b1974656133787900e9bd5219c5ce}


Defineret på linje 125 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!M7T@{M7T}}
\index{M7T@{M7T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{M7T}{M7T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M7T~0x0012}\hypertarget{lux_8c_aa3094566ff7a1a2bcd210e256c7b50cc}{}\label{lux_8c_aa3094566ff7a1a2bcd210e256c7b50cc}


Defineret på linje 78 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!M8C@{M8C}}
\index{M8C@{M8C}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{M8C}{M8C}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M8C~0x0000}\hypertarget{lux_8c_ac15c8f99823ed2ff447fb568ce4d3957}{}\label{lux_8c_ac15c8f99823ed2ff447fb568ce4d3957}


Defineret på linje 128 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!M8T@{M8T}}
\index{M8T@{M8T}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{M8T}{M8T}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M8T~0x0000}\hypertarget{lux_8c_acb54eadab753bfe327548d7216edd9a2}{}\label{lux_8c_acb54eadab753bfe327548d7216edd9a2}


Defineret på linje 81 i filen lux.\+c.



Refereret til af Calculate\+Lux().

\index{lux.\+c@{lux.\+c}!R\+A\+T\+I\+O\+\_\+\+S\+C\+A\+LE@{R\+A\+T\+I\+O\+\_\+\+S\+C\+A\+LE}}
\index{R\+A\+T\+I\+O\+\_\+\+S\+C\+A\+LE@{R\+A\+T\+I\+O\+\_\+\+S\+C\+A\+LE}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{R\+A\+T\+I\+O\+\_\+\+S\+C\+A\+LE}{RATIO_SCALE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define R\+A\+T\+I\+O\+\_\+\+S\+C\+A\+LE~9}\hypertarget{lux_8c_a2d36ccf8157f890c015eddd64276d77c}{}\label{lux_8c_a2d36ccf8157f890c015eddd64276d77c}


Defineret på linje 21 i filen lux.\+c.



Refereret til af Calculate\+Lux().



\subsubsection{Funktions-\/dokumentation}
\index{lux.\+c@{lux.\+c}!Calculate\+Lux@{Calculate\+Lux}}
\index{Calculate\+Lux@{Calculate\+Lux}!lux.\+c@{lux.\+c}}
\paragraph[{\texorpdfstring{Calculate\+Lux(unsigned int i\+Gain, unsigned int t\+Int, unsigned int ch0, unsigned int ch1, int i\+Type)}{CalculateLux(unsigned int iGain, unsigned int tInt, unsigned int ch0, unsigned int ch1, int iType)}}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int Calculate\+Lux (
\begin{DoxyParamCaption}
\item[{unsigned int}]{i\+Gain, }
\item[{unsigned int}]{t\+Int, }
\item[{unsigned int}]{ch0, }
\item[{unsigned int}]{ch1, }
\item[{int}]{i\+Type}
\end{DoxyParamCaption}
)}\hypertarget{lux_8c_a3db2aa0d603f0627be256dc108d3d763}{}\label{lux_8c_a3db2aa0d603f0627be256dc108d3d763}


Calculate perceived lux from sensor values The sensor has two detectors, one that detects visible and infrared light while the second only detects infrared light. The amount of visible light is then calculated by substracting a scaling fraction of the second detector value from a scaling fraction of the first. 

\begin{DoxyReturn}{Returnerer}
The calculated lux value 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parametre}
\mbox{\tt in}  & {\em i\+Gain} & Is internal scaling enabled in the sensor (0 = x1, 1 = x16) \\
\hline
\mbox{\tt in}  & {\em t\+Int} & Integration time set in the sensor (0 = 13.\+7ms, 1 = 101ms, 2 = 402ms) \\
\hline
\mbox{\tt in}  & {\em ch0} & Value read from detector 0 \\
\hline
\mbox{\tt in}  & {\em ch1} & Value read from detector 1 \\
\hline
\mbox{\tt in}  & {\em i\+Type} & Physical sensor package (0 = T, FN or CL, 1 = CS)\\
\hline
\end{DoxyParams}
\begin{DoxyAuthor}{Forfatter}
T\+A\+OS, Inc. 
\end{DoxyAuthor}


Defineret på linje 147 i filen lux.\+c.



Indeholder referencer til B1C, B1T, B2C, B2T, B3C, B3T, B4C, B4T, B5C, B5T, B6C, B6T, B7C, B7T, B8C, B8T, C\+H\+\_\+\+S\+C\+A\+LE, C\+H\+S\+C\+A\+L\+E\+\_\+\+T\+I\+N\+T0, C\+H\+S\+C\+A\+L\+E\+\_\+\+T\+I\+N\+T1, K1C, K1T, K2C, K2T, K3C, K3T, K4C, K4T, K5C, K5T, K6C, K6T, K7C, K7T, K8C, K8T, L\+U\+X\+\_\+\+S\+C\+A\+LE, M1C, M1T, M2C, M2T, M3C, M3T, M4C, M4T, M5C, M5T, M6C, M6T, M7C, M7T, M8C, M8T og R\+A\+T\+I\+O\+\_\+\+S\+C\+A\+LE.



Refereret til af read\+Lumen\+Sensor().


\begin{DoxyCode}
149 \{
150   \textcolor{comment}{//}
151   \textcolor{comment}{// first, scale the channel values depending on the gain and integration time}
152   \textcolor{comment}{// 16X, 402mS is nominal.}
153   \textcolor{comment}{// scale if integration time is NOT 402 msec}
154   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} chScale;
155   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} channel1;
156   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} channel0;
157   \textcolor{keywordflow}{switch} (tInt)
158   \{
159     \textcolor{keywordflow}{case} 0: \textcolor{comment}{// 13.7 msec}
160       chScale = \hyperlink{lux_8c_af740a064eaa0da3339e7eba683a671ed}{CHSCALE\_TINT0};
161       \textcolor{keywordflow}{break};
162     \textcolor{keywordflow}{case} 1: \textcolor{comment}{// 101 msec}
163       chScale = \hyperlink{lux_8c_a1f741d16494e81486136c73489097cdd}{CHSCALE\_TINT1};
164       \textcolor{keywordflow}{break};
165     \textcolor{keywordflow}{default}: \textcolor{comment}{// assume no scaling}
166       chScale = (1 << \hyperlink{lux_8c_ae77b11d54490369c690da18aef1e76e5}{CH\_SCALE});
167       \textcolor{keywordflow}{break};
168   \}
169   \textcolor{comment}{// scale if gain is NOT 16X}
170   \textcolor{keywordflow}{if} (!iGain) chScale = chScale << 4; \textcolor{comment}{// scale 1X to 16X}
171   \textcolor{comment}{// scale the channel values}
172   channel0 = (ch0 * chScale) >> \hyperlink{lux_8c_ae77b11d54490369c690da18aef1e76e5}{CH\_SCALE};
173   channel1 = (ch1 * chScale) >> \hyperlink{lux_8c_ae77b11d54490369c690da18aef1e76e5}{CH\_SCALE};
174   \textcolor{comment}{//}
175   \textcolor{comment}{// find the ratio of the channel values (Channel1/Channel0)}
176   \textcolor{comment}{// protect against divide by zero}
177   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} ratio1 = 0;
178   \textcolor{keywordflow}{if} (channel0 != 0) ratio1 = (channel1 << (\hyperlink{lux_8c_a2d36ccf8157f890c015eddd64276d77c}{RATIO\_SCALE}+1)) / channel0;
179   \textcolor{comment}{// round the ratio value}
180   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} ratio = (ratio1 + 1) >> 1;
181   \textcolor{comment}{// is ratio <= eachBreak ?}
182   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} b = 0, m = 0;
183   \textcolor{keywordflow}{switch} (iType)
184   \{
185     \textcolor{keywordflow}{case} 0: \textcolor{comment}{// T, FN and CL package}
186       \textcolor{keywordflow}{if} ((ratio >= 0) && (ratio <= \hyperlink{lux_8c_a8d1758888413b06317d05260d023c6f1}{K1T}))
187       \{b=\hyperlink{lux_8c_a77a115660299dfe589547bd1c9313e18}{B1T}; m=\hyperlink{lux_8c_a9cee464de95fd9f1cc41e4737cdfcf56}{M1T};\}
188       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ratio <= \hyperlink{lux_8c_af3f76dac869af6d4fb8834ba8e5baa72}{K2T})
189       \{b=\hyperlink{lux_8c_a0a24c8d38c744a6706fbef06cc0d045e}{B2T}; m=\hyperlink{lux_8c_af13d82736a980dd7f78a0c8633c656c0}{M2T};\}
190       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ratio <= \hyperlink{lux_8c_a96898795c866703216e3035ecc1c29aa}{K3T})
191       \{b=\hyperlink{lux_8c_aa58a8a3b4010f1d8ab947e2351b6cf1d}{B3T}; m=\hyperlink{lux_8c_a6d02cd58020bf44d98927446668a2f7b}{M3T};\}
192       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ratio <= \hyperlink{lux_8c_aa3489bee2d8a1e25002669517f4b6f7d}{K4T})
193       \{b=\hyperlink{lux_8c_a836fd96912939cd386f83e20ed1061ee}{B4T}; m=\hyperlink{lux_8c_ac5983b281c3a2f1d4ea1f87236cfcb44}{M4T};\}
194       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ratio <= \hyperlink{lux_8c_a7df915d6ba425afa9a463f249168d6bd}{K5T})
195       \{b=\hyperlink{lux_8c_a8a3732432706e9a5a5ae3d3485d47043}{B5T}; m=\hyperlink{lux_8c_a2d9fce4a16f258b5ab02b09a954648f6}{M5T};\}
196       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ratio <= \hyperlink{lux_8c_a677e2edf3cf15bef63405c35a7be1310}{K6T})
197       \{b=\hyperlink{lux_8c_ab01465ad82a39e8d02c2dd79279bfe38}{B6T}; m=\hyperlink{lux_8c_a48074a633649636c0748b851a23776df}{M6T};\}
198       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ratio <= \hyperlink{lux_8c_a7e788fd48d058b89ffcc0438bc3d558e}{K7T})
199       \{b=\hyperlink{lux_8c_ad61180572632999584ac8b582a00e2c8}{B7T}; m=\hyperlink{lux_8c_aa3094566ff7a1a2bcd210e256c7b50cc}{M7T};\}
200       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ratio > \hyperlink{lux_8c_aa0dc3961e2039ad7d91faf6829ec1404}{K8T})
201       \{b=\hyperlink{lux_8c_ab5d069e613c69aaf71ea97b129cc5ec1}{B8T}; m=\hyperlink{lux_8c_acb54eadab753bfe327548d7216edd9a2}{M8T};\}
202       \textcolor{keywordflow}{break};
203     \textcolor{keywordflow}{case} 1:\textcolor{comment}{// CS package}
204       \textcolor{keywordflow}{if} ((ratio >= 0) && (ratio <= \hyperlink{lux_8c_a5d91e3222633d82540d7ce0e8d2e1bb2}{K1C}))
205       \{b=\hyperlink{lux_8c_a93aa8f0bb51f43d51e78656a352c6d16}{B1C}; m=\hyperlink{lux_8c_a4ec6175326ca3eb8b731a162b6fcd866}{M1C};\}
206       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ratio <= \hyperlink{lux_8c_ac91e954471045fdbd9b3d01933373c1e}{K2C})
207       \{b=\hyperlink{lux_8c_a95f02da704fdc6c1cabd0c29713cee66}{B2C}; m=\hyperlink{lux_8c_ab70590fa6ebed50a3ab8ff17c22b55b2}{M2C};\}
208       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ratio <= \hyperlink{lux_8c_acbc83f137380f27faf46af997f35f882}{K3C})
209       \{b=\hyperlink{lux_8c_ac03c4526fc8c17d71c8ee2171537facd}{B3C}; m=\hyperlink{lux_8c_a172d826f878378caa7889305ad29011f}{M3C};\}
210       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ratio <= \hyperlink{lux_8c_a2fccbc87358653185282ba16b03a64ee}{K4C})
211       \{b=\hyperlink{lux_8c_a6bd8165e32f19978994245c552b8ee2d}{B4C}; m=\hyperlink{lux_8c_abca79308fb0392b1f8c9d5cfeb5310a0}{M4C};\}
212       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ratio <= \hyperlink{lux_8c_aa39a8eec5ffe9f84c4ac098724c70c91}{K5C})
213       \{b=\hyperlink{lux_8c_af4a1b651ec51bb418ce1bffb87fa79e4}{B5C}; m=\hyperlink{lux_8c_a7c5adce134d8d2be44024c075f55c5c1}{M5C};\}
214       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ratio <= \hyperlink{lux_8c_a9dccc63bcf43c1b4714e913053a906c1}{K6C})
215       \{b=\hyperlink{lux_8c_abe71d8a87f6d974ee3d26693d1a2ea51}{B6C}; m=\hyperlink{lux_8c_a2140b89133d826e76d2a717a3d863551}{M6C};\}
216       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ratio <= \hyperlink{lux_8c_ac104bf3b33df4e42b14dc31078283565}{K7C})
217       \{b=\hyperlink{lux_8c_a5750be8469107d68ea4bdd4e4947316b}{B7C}; m=\hyperlink{lux_8c_acc5b1974656133787900e9bd5219c5ce}{M7C};\}
218       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ratio > \hyperlink{lux_8c_ac47a903b8bc65dc56915024f00201213}{K8C})
219       \{b=\hyperlink{lux_8c_a6d9dfce0cef08b9ef488e582ac4f92e9}{B8C}; m=\hyperlink{lux_8c_ac15c8f99823ed2ff447fb568ce4d3957}{M8C};\}
220       \textcolor{keywordflow}{break};
221   \}
222   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} temp;
223   temp = ((channel0 * b) - (channel1 * m));
224   \textcolor{comment}{// do not allow negative lux value}
225   \textcolor{keywordflow}{if} (temp < 0) temp = 0;
226   \textcolor{comment}{//}
227   temp += (1 << (\hyperlink{lux_8c_abe3540b1f05e5974dfa40491719b322a}{LUX\_SCALE}-1));
228   \textcolor{comment}{// strip off fractional portion}
229   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} lux = temp >> \hyperlink{lux_8c_abe3540b1f05e5974dfa40491719b322a}{LUX\_SCALE};
230   \textcolor{keywordflow}{return}(lux);
231 \}
\end{DoxyCode}


Her er kalder-\/grafen for denne funktion\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d08/lux_8c_a3db2aa0d603f0627be256dc108d3d763_icgraph}
\end{center}
\end{figure}


