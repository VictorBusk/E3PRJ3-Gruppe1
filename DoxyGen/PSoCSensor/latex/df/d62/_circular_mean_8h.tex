\hypertarget{_circular_mean_8h}{}\subsection{Circular\+Mean.\+h filreference}
\label{_circular_mean_8h}\index{Circular\+Mean.\+h@{Circular\+Mean.\+h}}


Circular buffer used for calculating the average of a series of values. \hyperlink{class_queue}{Queue} is circular and can contain B\+U\+F\+\_\+\+S\+I\+ZE elements. start points to the next element to overwrite. num is the number of items inserted -\/ it grows to B\+U\+F\+\_\+\+S\+I\+ZE and then stays there.  


Denne graf viser, hvilke filer der direkte eller indirekte inkluderer denne fil\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d7/d97/_circular_mean_8h__dep__incl}
\end{center}
\end{figure}
\subsubsection*{Datastrukturer}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{_circular_mean_8h_d2/ddd/struct_circular_mean}{Circular\+Mean}
\begin{DoxyCompactList}\small\item\em Struct for the buffer.  \hyperlink{_circular_mean_8h_d2/ddd/struct_circular_mean}{Mere...}\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{\#Defines}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{_circular_mean_8h_a6821bafc3c88dfb2e433a095df9940c6}{B\+U\+F\+\_\+\+S\+I\+ZE}~30
\end{DoxyCompactItemize}
\subsubsection*{Funktioner}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{_circular_mean_8h_a5118b6b2a8751d4400b4ea2a0a15329a}{init\+Circular\+Mean} (struct \hyperlink{_circular_mean_8h_d2/ddd/struct_circular_mean}{Circular\+Mean} $\ast$buf)
\begin{DoxyCompactList}\small\item\em Initialize a \hyperlink{_circular_mean_8h_d2/ddd/struct_circular_mean}{Circular\+Mean} struct. \end{DoxyCompactList}\item 
void \hyperlink{_circular_mean_8h_a6dfc9bb6b16de641325dc73e7f31f7fc}{insert\+Value} (struct \hyperlink{_circular_mean_8h_d2/ddd/struct_circular_mean}{Circular\+Mean} $\ast$buf, int val)
\begin{DoxyCompactList}\small\item\em Insert value, possibly overwriting oldest entry. \end{DoxyCompactList}\item 
int \hyperlink{_circular_mean_8h_a521968471dd1466d7efc8deb9fb14118}{get\+Mean\+Value} (struct \hyperlink{_circular_mean_8h_d2/ddd/struct_circular_mean}{Circular\+Mean} $\ast$buf)
\begin{DoxyCompactList}\small\item\em Get the average value of all the ints in the buffer. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Detaljeret beskrivelse}
Circular buffer used for calculating the average of a series of values. \hyperlink{class_queue}{Queue} is circular and can contain B\+U\+F\+\_\+\+S\+I\+ZE elements. start points to the next element to overwrite. num is the number of items inserted -\/ it grows to B\+U\+F\+\_\+\+S\+I\+ZE and then stays there. 

\begin{DoxyAuthor}{Forfatter}
Simon Nejmann (\href{mailto:19981127@uni.au.dk}{\tt 19981127@uni.\+au.\+dk})
\end{DoxyAuthor}


\subsubsection{Datastruktur-\/documentation}
\index{Circular\+Mean@{Circular\+Mean}}\label{struct_circular_mean}
\hypertarget{_circular_mean_8h_struct_circular_mean}{}
\paragraph{class Circular\+Mean}
Struct for the buffer. 

Circular buffer used for calculating the average of a series of values.

\begin{DoxyAuthor}{Forfatter}
Simon Nejmann (\href{mailto:19981127@uni.au.dk}{\tt 19981127@uni.\+au.\+dk}) 
\end{DoxyAuthor}


Defineret på linje 17 i filen Circular\+Mean.\+h.



Samarbejdsdiagram for Circular\+Mean\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=214pt]{d0/d9b/struct_circular_mean__coll__graph}
\end{center}
\end{figure}
\begin{DoxyFields}{Data-\/felter}
unsigned char\hypertarget{_circular_mean_8h_a724393befd13aa885c528e4d1a40d8e7}{}\label{_circular_mean_8h_a724393befd13aa885c528e4d1a40d8e7}
&
num&
Number of values current in the array \\
\hline

int\hypertarget{_circular_mean_8h_aa72bd937f7340af96c3b815933c02734}{}\label{_circular_mean_8h_aa72bd937f7340af96c3b815933c02734}
&
queue\mbox{[}\hyperlink{_circular_mean_8h_a6821bafc3c88dfb2e433a095df9940c6}{B\+U\+F\+\_\+\+S\+I\+ZE}\mbox{]}&
Array holding the inserted values \\
\hline

unsigned char\hypertarget{_circular_mean_8h_a0558edb7889eddddb3a01e3956de01c4}{}\label{_circular_mean_8h_a0558edb7889eddddb3a01e3956de01c4}
&
start&
Points to the next array-\/cell to write in \\
\hline

\end{DoxyFields}


\subsubsection{\#Define-\/dokumentation}
\index{Circular\+Mean.\+h@{Circular\+Mean.\+h}!B\+U\+F\+\_\+\+S\+I\+ZE@{B\+U\+F\+\_\+\+S\+I\+ZE}}
\index{B\+U\+F\+\_\+\+S\+I\+ZE@{B\+U\+F\+\_\+\+S\+I\+ZE}!Circular\+Mean.\+h@{Circular\+Mean.\+h}}
\paragraph[{\texorpdfstring{B\+U\+F\+\_\+\+S\+I\+ZE}{BUF_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B\+U\+F\+\_\+\+S\+I\+ZE~30}\hypertarget{_circular_mean_8h_a6821bafc3c88dfb2e433a095df9940c6}{}\label{_circular_mean_8h_a6821bafc3c88dfb2e433a095df9940c6}
The size of the buffer. Max 255 

Defineret på linje 12 i filen Circular\+Mean.\+h.



Refereret til af init\+Circular\+Mean() og insert\+Value().



\subsubsection{Funktions-\/dokumentation}
\index{Circular\+Mean.\+h@{Circular\+Mean.\+h}!get\+Mean\+Value@{get\+Mean\+Value}}
\index{get\+Mean\+Value@{get\+Mean\+Value}!Circular\+Mean.\+h@{Circular\+Mean.\+h}}
\paragraph[{\texorpdfstring{get\+Mean\+Value(struct Circular\+Mean $\ast$buf)}{getMeanValue(struct CircularMean *buf)}}]{\setlength{\rightskip}{0pt plus 5cm}int get\+Mean\+Value (
\begin{DoxyParamCaption}
\item[{struct {\bf Circular\+Mean} $\ast$}]{buf}
\end{DoxyParamCaption}
)}\hypertarget{_circular_mean_8h_a521968471dd1466d7efc8deb9fb14118}{}\label{_circular_mean_8h_a521968471dd1466d7efc8deb9fb14118}


Get the average value of all the ints in the buffer. 


\begin{DoxyParams}[1]{Parametre}
\mbox{\tt in}  & {\em buf} & Pointer to the \hyperlink{_circular_mean_8h_d2/ddd/struct_circular_mean}{Circular\+Mean} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returnerer}
The average value calculated
\end{DoxyReturn}
\begin{DoxyAuthor}{Forfatter}
Simon Nejmann (\href{mailto:19981127@uni.au.dk}{\tt 19981127@uni.\+au.\+dk}) 
\end{DoxyAuthor}


Defineret på linje 53 i filen Circular\+Mean.\+c.



Indeholder referencer til Circular\+Mean\+::num og Circular\+Mean\+::queue.



Refereret til af main().


\begin{DoxyCode}
54 \{
55     \textcolor{keywordflow}{if} (buf->\hyperlink{_circular_mean_8h_a724393befd13aa885c528e4d1a40d8e7}{num} == 0)
56         \textcolor{keywordflow}{return} 0;
57 
58     \textcolor{keywordtype}{int} i, temp = 0;
59     \textcolor{keywordflow}{for} (i = 0; i < buf->\hyperlink{_circular_mean_8h_a724393befd13aa885c528e4d1a40d8e7}{num}; ++i) \{
60         temp += buf->\hyperlink{_circular_mean_8h_aa72bd937f7340af96c3b815933c02734}{queue}[i];
61     \}
62 
63     \textcolor{keywordflow}{return} temp / buf->\hyperlink{_circular_mean_8h_a724393befd13aa885c528e4d1a40d8e7}{num};
64 \}
\end{DoxyCode}


Her er kalder-\/grafen for denne funktion\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=233pt]{df/d62/_circular_mean_8h_a521968471dd1466d7efc8deb9fb14118_icgraph}
\end{center}
\end{figure}


\index{Circular\+Mean.\+h@{Circular\+Mean.\+h}!init\+Circular\+Mean@{init\+Circular\+Mean}}
\index{init\+Circular\+Mean@{init\+Circular\+Mean}!Circular\+Mean.\+h@{Circular\+Mean.\+h}}
\paragraph[{\texorpdfstring{init\+Circular\+Mean(struct Circular\+Mean $\ast$buf)}{initCircularMean(struct CircularMean *buf)}}]{\setlength{\rightskip}{0pt plus 5cm}void init\+Circular\+Mean (
\begin{DoxyParamCaption}
\item[{struct {\bf Circular\+Mean} $\ast$}]{buf}
\end{DoxyParamCaption}
)}\hypertarget{_circular_mean_8h_a5118b6b2a8751d4400b4ea2a0a15329a}{}\label{_circular_mean_8h_a5118b6b2a8751d4400b4ea2a0a15329a}


Initialize a \hyperlink{_circular_mean_8h_d2/ddd/struct_circular_mean}{Circular\+Mean} struct. 


\begin{DoxyParams}[1]{Parametre}
\mbox{\tt in}  & {\em buf} & Pointer to the \hyperlink{_circular_mean_8h_d2/ddd/struct_circular_mean}{Circular\+Mean} to initialize\\
\hline
\end{DoxyParams}
\begin{DoxyAuthor}{Forfatter}
Simon Nejmann (\href{mailto:19981127@uni.au.dk}{\tt 19981127@uni.\+au.\+dk}) 
\end{DoxyAuthor}


Defineret på linje 19 i filen Circular\+Mean.\+c.



Indeholder referencer til B\+U\+F\+\_\+\+S\+I\+ZE, Circular\+Mean\+::num, Circular\+Mean\+::queue og Circular\+Mean\+::start.



Refereret til af Sensor\+Data\+::init\+Sensor\+Data().


\begin{DoxyCode}
20 \{
21     \textcolor{keywordtype}{int} i;
22     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{_circular_mean_8h_a6821bafc3c88dfb2e433a095df9940c6}{BUF\_SIZE}; ++i) \{
23         buf->\hyperlink{_circular_mean_8h_aa72bd937f7340af96c3b815933c02734}{queue}[i] = -1;
24     \}
25     buf->\hyperlink{_circular_mean_8h_a0558edb7889eddddb3a01e3956de01c4}{start} = 0;
26     buf->\hyperlink{_circular_mean_8h_a724393befd13aa885c528e4d1a40d8e7}{num} = 0;
27 \}
\end{DoxyCode}


Her er kalder-\/grafen for denne funktion\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d62/_circular_mean_8h_a5118b6b2a8751d4400b4ea2a0a15329a_icgraph}
\end{center}
\end{figure}


\index{Circular\+Mean.\+h@{Circular\+Mean.\+h}!insert\+Value@{insert\+Value}}
\index{insert\+Value@{insert\+Value}!Circular\+Mean.\+h@{Circular\+Mean.\+h}}
\paragraph[{\texorpdfstring{insert\+Value(struct Circular\+Mean $\ast$buf, int val)}{insertValue(struct CircularMean *buf, int val)}}]{\setlength{\rightskip}{0pt plus 5cm}void insert\+Value (
\begin{DoxyParamCaption}
\item[{struct {\bf Circular\+Mean} $\ast$}]{buf, }
\item[{int}]{val}
\end{DoxyParamCaption}
)}\hypertarget{_circular_mean_8h_a6dfc9bb6b16de641325dc73e7f31f7fc}{}\label{_circular_mean_8h_a6dfc9bb6b16de641325dc73e7f31f7fc}


Insert value, possibly overwriting oldest entry. 


\begin{DoxyParams}[1]{Parametre}
\mbox{\tt in}  & {\em buf} & Pointer to the \hyperlink{_circular_mean_8h_d2/ddd/struct_circular_mean}{Circular\+Mean} to insert into \\
\hline
\mbox{\tt in}  & {\em val} & Value to insert\\
\hline
\end{DoxyParams}
\begin{DoxyAuthor}{Forfatter}
Simon Nejmann (\href{mailto:19981127@uni.au.dk}{\tt 19981127@uni.\+au.\+dk}) 
\end{DoxyAuthor}


Defineret på linje 36 i filen Circular\+Mean.\+c.



Indeholder referencer til B\+U\+F\+\_\+\+S\+I\+ZE, Circular\+Mean\+::num, Circular\+Mean\+::queue og Circular\+Mean\+::start.



Refereret til af main().


\begin{DoxyCode}
37 \{
38     buf->\hyperlink{_circular_mean_8h_aa72bd937f7340af96c3b815933c02734}{queue}[buf->\hyperlink{_circular_mean_8h_a0558edb7889eddddb3a01e3956de01c4}{start}] = val;
39     buf->\hyperlink{_circular_mean_8h_a0558edb7889eddddb3a01e3956de01c4}{start} = (buf->\hyperlink{_circular_mean_8h_a0558edb7889eddddb3a01e3956de01c4}{start} +1) % \hyperlink{_circular_mean_8h_a6821bafc3c88dfb2e433a095df9940c6}{BUF\_SIZE};
40     ++(buf->\hyperlink{_circular_mean_8h_a724393befd13aa885c528e4d1a40d8e7}{num});
41     \textcolor{keywordflow}{if} (buf->\hyperlink{_circular_mean_8h_a724393befd13aa885c528e4d1a40d8e7}{num} > \hyperlink{_circular_mean_8h_a6821bafc3c88dfb2e433a095df9940c6}{BUF\_SIZE}) \{
42         buf->\hyperlink{_circular_mean_8h_a724393befd13aa885c528e4d1a40d8e7}{num} = \hyperlink{_circular_mean_8h_a6821bafc3c88dfb2e433a095df9940c6}{BUF\_SIZE};
43     \}
44 \}
\end{DoxyCode}


Her er kalder-\/grafen for denne funktion\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=219pt]{df/d62/_circular_mean_8h_a6dfc9bb6b16de641325dc73e7f31f7fc_icgraph}
\end{center}
\end{figure}


